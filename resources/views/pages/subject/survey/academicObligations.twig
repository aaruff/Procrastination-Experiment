{% extends 'pages/subject/master.twig' %}

{% block body %}
    <div class="container">
        <div class="jumbotron">
            <form action="{{ currentUrl() }}" method="post">

                {# Course Work #}
                <div class="form-group">
                    <label>How many hours between [x] and [y] do you expect to spend on course work</label>
                    <input type="text" class="form-control" name="course_work" />
                </div>

                <fieldset>
                    <legend>Assignments and Exams</legend>

                    <div class="form-group">
                        <label>Enter the dates and times you expect to spend between [x] and [y] on</label>
                    </div>

                    {# Minor Assignments #}
                    <div class="form-group">
                        <label>Minor Assignments</label>
                    </div>
                    <div id="minor-group" class="form-group form-inline">
                        <input type="text" class="form-control date start" placeholder="Start Date" name="minor_start_date[]" />
                        <input type="text" class="form-control time start" placeholder="Start Time" name="minor_start_time[]" />
                        <input type="text" class="form-control time end" placeholder="End Time" name="minor_end_time[]" />
                        <input type="text" class="form-control date end" placeholder="End Date" name="minor_end_date[]" />
                        <a class="form-control btn btn-info add_item" data-group="work" href="#"><i class="fa fa-plus"></i></a>
                    </div>
                    <div class="form-group dynamic-entry" id="minor_insert">
                    </div>

                    {# Major Assignments #}
                    <div class="form-group">
                        <label>Major Assignments or Term Papers</label>
                    </div>
                    <div id="major-group" class="form-group form-inline">
                        <input type="text" class="form-control date start" placeholder="Start Date" name="major_start_date[]" />
                        <input type="text" class="form-control time start" placeholder="Start Time" name="major_start_time[]" />
                        <input type="text" class="form-control time end" placeholder="End Time" name="major_end_time[]" />
                        <input type="text" class="form-control date end" placeholder="End Date" name="major_end_date[]" />
                        <a class="form-control btn btn-info add_item" data-group="work" href="#"><i class="fa fa-plus"></i></a>
                    </div>
                    <div class="form-group dynamic-entry" id="major_insert">
                    </div>

                    {# Exams #}
                    <div class="form-group">
                        <label>Exams</label>
                    </div>
                    <div id="exam-group" class="form-group form-inline">
                        <input type="text" class="form-control date start" placeholder="Start Date" name="exam_start_date[]" />
                        <input type="text" class="form-control time start" placeholder="Start Time" name="exam_start_time[]" />
                        <input type="text" class="form-control time end" placeholder="End Time" name="exam_end_time[]" />
                        <input type="text" class="form-control date end" placeholder="End Date" name="exam_end_date[]" />
                        <a class="form-control btn btn-info add_item" data-group="work" href="#"><i class="fa fa-plus"></i></a>
                    </div>
                    <div class="form-group dynamic-entry" id="major_insert">
                    </div>
                </fieldset>

                <div class="form-group">
                    <button type="submit" class="btn btn-success">Next</button>
                </div>
            </form>
        </div>

    </div>
    <script>
        $(document).ready(function() {
            var max_fields      = 10;
            var numInputFields = 1;

            $(".add_item").click(function(e){
                e.preventDefault();
                if(numInputFields < max_fields){
                    numInputFields++; //text box increment
                    var insertId = '#' + $(this).data('group') + '_insert';
                    $(insertId).append(
                            '<div class="col-xs-offset-4">' +
                            '<div class="col-xs-9" >' +
                            '<input type="text" class="form-control" placeholder="Assignment Deadline (mm\\dd\\yyyy)"  ' +
                            'name="' + $(this).data('group') + '_assignments[]" /> ' +
                            '</div>' +
                            '<div class="col-xs-2 remove_item" >' +
                            '<a class="btn btn-danger" href="#">' +
                            '<i class="fa fa-minus"></i> Remove' +
                            '</a>' +
                            '</div>' +
                            '</div>'
                    );
                }
            });

            $(".dynamic-entry").on("click", ".remove_item", function(e) {
                e.preventDefault();
                $(this).parent('div').remove();
                numInputFields--;
            });
        });
    </script>
{% endblock %}

